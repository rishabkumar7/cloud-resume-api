"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropEmptyObjectAtTheEndOfAnArray=void 0;var object_1=()=>{var tmp=require("./object");return object_1=()=>tmp,tmp},cdk=()=>{var tmp=require("../../../core");return cdk=()=>tmp,tmp};class DropEmptyObjectAtTheEndOfAnArray{constructor(value){this.value=value,this.creationStack=cdk().captureStackTrace()}resolve(context){return context.registerPostProcessor(this),context.resolve(this.value)}postProcess(o,_context){if(!Array.isArray(o))return o;const lastEl=o[o.length-1];return typeof lastEl=="object"&&lastEl!==null&&Object.keys((0,object_1().dropUndefined)(lastEl)).length===0?o.slice(0,o.length-1):o}}exports.DropEmptyObjectAtTheEndOfAnArray=DropEmptyObjectAtTheEndOfAnArray;
